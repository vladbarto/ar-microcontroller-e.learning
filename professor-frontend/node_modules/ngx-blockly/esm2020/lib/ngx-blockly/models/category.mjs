import { UUID } from 'angular2-uuid';
import { XmlBlock } from './xml-block';
export class Category {
    constructor(name, colour, nodes, custom, style, cssClass, toolboxItemId, hidden) {
        this._name = name;
        this._nodes = nodes ? nodes : [];
        this._colour = colour;
        this._custom = custom;
        this._style = style;
        this._cssClass = cssClass;
        this._toolboxItemId = toolboxItemId ? toolboxItemId : UUID.UUID();
        this._hidden = hidden;
    }
    get nodes() {
        return this._nodes;
    }
    set nodes(nodes) {
        this._nodes = nodes;
    }
    get colour() {
        return this._colour;
    }
    set colour(value) {
        this._colour = value;
    }
    get name() {
        return this._name;
    }
    set name(value) {
        this._name = value;
    }
    get custom() {
        return this._custom;
    }
    set custom(value) {
        this._custom = value;
    }
    get style() {
        return this._style;
    }
    set style(value) {
        this._style = value;
    }
    get cssClass() {
        return this._cssClass;
    }
    set cssClass(value) {
        this._cssClass = value;
    }
    get toolboxItemId() {
        return this._toolboxItemId;
    }
    set toolboxItemId(value) {
        this._toolboxItemId = value;
    }
    get hidden() {
        return this._hidden;
    }
    set hidden(value) {
        this._hidden = value;
    }
    toXML() {
        let xml = `<category expanded="false" name="${this.name}"`;
        if (this.toolboxItemId) {
            xml += ` toolboxitemid="${this.toolboxItemId}"`;
        }
        if (!this.style) {
            xml += ` colour="${this.colour}"`;
        }
        else {
            xml += ` categorystyle="${this.style}"`;
        }
        if (this.hidden) {
            xml += ' hidden="true"';
        }
        xml += this.cssClass ? ` categoryclass="${this.cssClass}"` : '';
        xml += this.custom ? ` custom="${this.custom}">` : '>';
        for (const element of this.nodes) {
            xml += element.toXML();
        }
        xml += '</category>';
        return xml;
    }
}
export const LOGIC_CATEGORY = new Category('Logic', '%{BKY_LOGIC_HUE}', [
    new XmlBlock('controls_if'),
    new XmlBlock('logic_compare'),
    new XmlBlock('logic_operation'),
    new XmlBlock('logic_negate'),
    new XmlBlock('logic_boolean'),
    new XmlBlock('logic_null'),
    new XmlBlock('logic_ternary'),
]);
export const LOOP_CATEGORY = new Category('Loops', '%{BKY_LOOPS_HUE}', [
    new XmlBlock('controls_repeat_ext'),
    new XmlBlock('controls_whileUntil'),
    new XmlBlock('controls_for'),
    new XmlBlock('controls_forEach'),
    new XmlBlock('controls_flow_statements')
]);
export const MATH_CATEGORY = new Category('Math', '%{BKY_MATH_HUE}', [
    new XmlBlock('math_number'),
    new XmlBlock('math_arithmetic'),
    new XmlBlock('math_single'),
    new XmlBlock('math_trig'),
    new XmlBlock('math_constant'),
    new XmlBlock('math_number_property'),
    new XmlBlock('math_round'),
    new XmlBlock('math_on_list'),
    new XmlBlock('math_modulo'),
    new XmlBlock('math_constrain'),
    new XmlBlock('math_random_int'),
    new XmlBlock('math_random_float'),
    new XmlBlock('math_atan2')
]);
export const TEXT_CATEGORY = new Category('Text', '%{BKY_TEXTS_HUE}', [
    new XmlBlock('text'),
    new XmlBlock('text_join'),
    new XmlBlock('text_append'),
    new XmlBlock('text_length'),
    new XmlBlock('text_count'),
    new XmlBlock('text_isEmpty'),
    new XmlBlock('text_indexOf'),
    new XmlBlock('text_charAt'),
    new XmlBlock('text_getSubstring'),
    new XmlBlock('text_changeCase'),
    new XmlBlock('text_multiline'),
    new XmlBlock('text_replace'),
    new XmlBlock('text_reverse'),
    new XmlBlock('text_trim'),
    new XmlBlock('text_print'),
    new XmlBlock('text_prompt'),
    new XmlBlock('text_prompt_ext')
]);
export const LISTS_CATEGORY = new Category('Lists', '%{BKY_LISTS_HUE}', [
    new XmlBlock('lists_create_with'),
    new XmlBlock('lists_create_empty'),
    new XmlBlock('lists_repeat'),
    new XmlBlock('lists_reverse'),
    new XmlBlock('lists_length'),
    new XmlBlock('lists_isEmpty'),
    new XmlBlock('lists_indexOf'),
    new XmlBlock('lists_getIndex'),
    new XmlBlock('lists_setIndex'),
    new XmlBlock('lists_getSublist'),
    new XmlBlock('lists_split'),
    new XmlBlock('lists_sort'),
]);
export const COLOUR_CATEGORY = new Category('Colours', '%{BKY_COLOUR_HUE}', [
    new XmlBlock('colour_picker'),
    new XmlBlock('colour_random'),
    new XmlBlock('colour_rgb'),
    new XmlBlock('colour_blend')
]);
export const VARIABLES_CATEGORY = new Category('Variables', '%{BKY_VARIABLES_HUE}', [], 'VARIABLE');
export const FUNCTIONS_CATEGORY = new Category('Functions', '%{BKY_PROCEDURES_HUE}', [], 'PROCEDURE');
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2F0ZWdvcnkuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9uZ3gtYmxvY2tseS9zcmMvbGliL25neC1ibG9ja2x5L21vZGVscy9jYXRlZ29yeS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRXJDLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFFdkMsTUFBTSxPQUFPLFFBQVE7SUFXakIsWUFBWSxJQUFZLEVBQ1osTUFBYyxFQUNkLEtBQWUsRUFDZixNQUFlLEVBQ2YsS0FBYyxFQUNkLFFBQWlCLEVBQ2pCLGFBQXNCLEVBQ3RCLE1BQWdCO1FBQ3hCLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDO1FBQ2xCLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztRQUNqQyxJQUFJLENBQUMsT0FBTyxHQUFHLE1BQU0sQ0FBQztRQUN0QixJQUFJLENBQUMsT0FBTyxHQUFHLE1BQU0sQ0FBQztRQUN0QixJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztRQUNwQixJQUFJLENBQUMsU0FBUyxHQUFHLFFBQVEsQ0FBQztRQUMxQixJQUFJLENBQUMsY0FBYyxHQUFHLGFBQWEsQ0FBQyxDQUFDLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDbEUsSUFBSSxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUM7SUFDMUIsQ0FBQztJQUVELElBQUksS0FBSztRQUNMLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQztJQUN2QixDQUFDO0lBRUQsSUFBSSxLQUFLLENBQUMsS0FBYTtRQUNuQixJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztJQUN4QixDQUFDO0lBRUQsSUFBSSxNQUFNO1FBQ04s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QUFJLFFBQVEsQ0FBQyxrQkFBa0IsQ0FBQztJQUNoQyxJQUFJLFFBQVEsQ0FBQyxhQUFhLENBQUM7SUFDM0IsSUFBSSxRQUFRLENBQUMsWUFBWSxDQUFDO0NBQzdCLENBQUMsQ0FBQztBQUVILE1BQU0sQ0FBQyxNQUFNLGVBQWUsR0FBYSxJQUFJLFFBQVEsQ0FBQyxTQUFTLEVBQUUsbUJBQW1CLEVBQUU7SUFDbEYsSUFBSSxRQUFRLENBQUMsZUFBZSxDQUFDO0lBQzdCLElBQUksUUFBUSxDQUFDLGVBQWUsQ0FBQztJQUM3QixJQUFJLFFBQVEsQ0FBQyxZQUFZLENBQUM7SUFDMUIsSUFBSSxRQUFRLENBQUMsY0FBYyxDQUFDO0NBQy9CLENBQUMsQ0FBQztBQUVILE1BQU0sQ0FBQyxNQUFNLGtCQUFrQixHQUFhLElBQUksUUFBUSxDQUFDLFdBQVcsRUFBRSxzQkFBc0IsRUFBRSxFQUFFLEVBQUUsVUFBVSxDQUFDLENBQUM7QUFFOUcsTUFBTSxDQUFDLE1BQU0sa0JBQWtCLEdBQWEsSUFBSSxRQUFRLENBQUMsV0FBVyxFQUFFLHVCQUF1QixFQUFFLEVBQUUsRUFBRSxXQUFXLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFVVSUQgfSBmcm9tICdhbmd1bGFyMi11dWlkJztcbmltcG9ydCB7IE5vZGUgfSBmcm9tICcuL25vZGUnO1xuaW1wb3J0IHsgWG1sQmxvY2sgfSBmcm9tICcuL3htbC1ibG9jayc7XG5cbmV4cG9ydCBjbGFzcyBDYXRlZ29yeSBpbXBsZW1lbnRzIE5vZGUge1xuXG4gICAgcHJpdmF0ZSBfbm9kZXM6IE5vZGUgW107XG4gICAgcHJpdmF0ZSBfY29sb3VyOiBzdHJpbmc7XG4gICAgcHJpdmF0ZSBfbmFtZTogc3RyaW5nO1xuICAgIHByaXZhdGUgX2N1c3RvbTogc3RyaW5nO1xuICAgIHByaXZhdGUgX3N0eWxlOiBzdHJpbmc7XG4gICAgcHJpdmF0ZSBfY3NzQ2xhc3M6IHN0cmluZztcbiAgICBwcml2YXRlIF90b29sYm94SXRlbUlkOiBzdHJpbmc7XG4gICAgcHJpdmF0ZSBfaGlkZGVuOiBib29sZWFuO1xuXG4gICAgY29uc3RydWN0b3IobmFtZTogc3RyaW5nLFxuICAgICAgICAgICAgICAgIGNvbG91cjogc3RyaW5nLFxuICAgICAgICAgICAgICAgIG5vZGVzPzogTm9kZSBbXSxcbiAgICAgICAgICAgICAgICBjdXN0b20/OiBzdHJpbmcsXG4gICAgICAgICAgICAgICAgc3R5bGU/OiBzdHJpbmcsXG4gICAgICAgICAgICAgICAgY3NzQ2xhc3M/OiBzdHJpbmcsXG4gICAgICAgICAgICAgICAgdG9vbGJveEl0ZW1JZD86IHN0cmluZyxcbiAgICAgICAgICAgICAgICBoaWRkZW4/OiBib29sZWFuKSB7XG4gICAgICAgIHRoaXMuX25hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLl9ub2RlcyA9IG5vZGVzID8gbm9kZXMgOiBbXTtcbiAgICAgICAgdGhpcy5fY29sb3VyID0gY29sb3VyO1xuICAgICAgICB0aGlzLl9jdXN0b20gPSBjdXN0b207XG4gICAgICAgIHRoaXMuX3N0eWxlID0gc3R5bGU7XG4gICAgICAgIHRoaXMuX2Nzc0NsYXNzID0gY3NzQ2xhc3M7XG4gICAgICAgIHRoaXMuX3Rvb2xib3hJdGVtSWQgPSB0b29sYm94SXRlbUlkID8gdG9vbGJveEl0ZW1JZCA6IFVVSUQuVVVJRCgpO1xuICAgICAgICB0aGlzLl9oaWRkZW4gPSBoaWRkZW47XG4gICAgfVxuXG4gICAgZ2V0IG5vZGVzKCk6IE5vZGVbXSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9ub2RlcztcbiAgICB9XG5cbiAgICBzZXQgbm9kZXMobm9kZXM6IE5vZGVbXSkge1xuICAgICAgICB0aGlzLl9ub2RlcyA9IG5vZGVzO1xuICAgIH1cblxuICAgIGdldCBjb2xvdXIoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbG91cjtcbiAgICB9XG5cbiAgICBzZXQgY29sb3VyKHZhbHVlOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5fY29sb3VyID0gdmFsdWU7XG4gICAgfVxuXG4gICAgZ2V0IG5hbWUoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX25hbWU7XG4gICAgfVxuXG4gICAgc2V0IG5hbWUodmFsdWU6IHN0cmluZykge1xuICAgICAgICB0aGlzLl9uYW1lID0gdmFsdWU7XG4gICAgfVxuXG4gICAgZ2V0IGN1c3RvbSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5fY3VzdG9tO1xuICAgIH1cblxuICAgIHNldCBjdXN0b20odmFsdWU6IHN0cmluZykge1xuICAgICAgICB0aGlzLl9jdXN0b20gPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBnZXQgc3R5bGUoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0eWxlO1xuICAgIH1cblxuICAgIHNldCBzdHlsZSh2YWx1ZTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuX3N0eWxlID0gdmFsdWU7XG4gICAgfVxuXG4gICAgZ2V0IGNzc0NsYXNzKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jc3NDbGFzcztcbiAgICB9XG5cbiAgICBzZXQgY3NzQ2xhc3ModmFsdWU6IHN0cmluZykge1xuICAgICAgICB0aGlzLl9jc3NDbGFzcyA9IHZhbHVlO1xuICAgIH1cblxuICAgIGdldCB0b29sYm94SXRlbUlkKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLl90b29sYm94SXRlbUlkO1xuICAgIH1cblxuICAgIHNldCB0b29sYm94SXRlbUlkKHZhbHVlOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5fdG9vbGJveEl0ZW1JZCA9IHZhbHVlO1xuICAgIH1cblxuICAgIGdldCBoaWRkZW4oKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9oaWRkZW47XG4gICAgfVxuXG4gICAgc2V0IGhpZGRlbih2YWx1ZTogYm9vbGVhbikge1xuICAgICAgICB0aGlzLl9oaWRkZW4gPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdG9YTUwoKTogc3RyaW5nIHtcbiAgICAgICAgbGV0IHhtbCA9IGA8Y2F0ZWdvcnkgZXhwYW5kZWQ9XCJmYWxzZVwiIG5hbWU9XCIke3RoaXMubmFtZX1cImA7XG5cbiAgICAgICAgaWYgKHRoaXMudG9vbGJveEl0ZW1JZCkge1xuICAgICAgICAgICAgeG1sICs9IGAgdG9vbGJveGl0ZW1pZD1cIiR7dGhpcy50b29sYm94SXRlbUlkfVwiYDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5zdHlsZSkge1xuICAgICAgICAgICAgeG1sICs9IGAgY29sb3VyPVwiJHt0aGlzLmNvbG91cn1cImA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB4bWwgKz0gYCBjYXRlZ29yeXN0eWxlPVwiJHt0aGlzLnN0eWxlfVwiYDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmhpZGRlbikge1xuICAgICAgICAgICAgeG1sICs9ICcgaGlkZGVuPVwidHJ1ZVwiJztcbiAgICAgICAgfVxuXG4gICAgICAgIHhtbCArPSB0aGlzLmNzc0NsYXNzID8gYCBjYXRlZ29yeWNsYXNzPVwiJHt0aGlzLmNzc0NsYXNzfVwiYCA6ICcnO1xuICAgICAgICB4bWwgKz0gdGhpcy5jdXN0b20gPyBgIGN1c3RvbT1cIiR7dGhpcy5jdXN0b219XCI+YCA6ICc+JztcblxuICAgICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgdGhpcy5ub2Rlcykge1xuICAgICAgICAgICAgeG1sICs9IGVsZW1lbnQudG9YTUwoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHhtbCArPSAnPC9jYXRlZ29yeT4nO1xuXG4gICAgICAgIHJldHVybiB4bWw7XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgTE9HSUNfQ0FURUdPUlk6IENhdGVnb3J5ID0gbmV3IENhdGVnb3J5KCdMb2dpYycsICcle0JLWV9MT0dJQ19IVUV9JywgW1xuICAgIG5ldyBYbWxCbG9jaygnY29udHJvbHNfaWYnKSxcbiAgICBuZXcgWG1sQmxvY2soJ2xvZ2ljX2NvbXBhcmUnKSxcbiAgICBuZXcgWG1sQmxvY2soJ2xvZ2ljX29wZXJhdGlvbicpLFxuICAgIG5ldyBYbWxCbG9jaygnbG9naWNfbmVnYXRlJyksXG4gICAgbmV3IFhtbEJsb2NrKCdsb2dpY19ib29sZWFuJyksXG4gICAgbmV3IFhtbEJsb2NrKCdsb2dpY19udWxsJyksXG4gICAgbmV3IFhtbEJsb2NrKCdsb2dpY190ZXJuYXJ5JyksXG5dKTtcblxuZXhwb3J0IGNvbnN0IExPT1BfQ0FURUdPUlk6IENhdGVnb3J5ID0gbmV3IENhdGVnb3J5KCdMb29wcycsICcle0JLWV9MT09QU19IVUV9JywgW1xuICAgIG5ldyBYbWxCbG9jaygnY29udHJvbHNfcmVwZWF0X2V4dCcpLFxuICAgIG5ldyBYbWxCbG9jaygnY29udHJvbHNfd2hpbGVVbnRpbCcpLFxuICAgIG5ldyBYbWxCbG9jaygnY29udHJvbHNfZm9yJyksXG4gICAgbmV3IFhtbEJsb2NrKCdjb250cm9sc19mb3JFYWNoJyksXG4gICAgbmV3IFhtbEJsb2NrKCdjb250cm9sc19mbG93X3N0YXRlbWVudHMnKVxuXSk7XG5cbmV4cG9ydCBjb25zdCBNQVRIX0NBVEVHT1JZOiBDYXRlZ29yeSA9IG5ldyBDYXRlZ29yeSgnTWF0aCcsICcle0JLWV9NQVRIX0hVRX0nLCBbXG4gICAgbmV3IFhtbEJsb2NrKCdtYXRoX251bWJlcicpLFxuICAgIG5ldyBYbWxCbG9jaygnbWF0aF9hcml0aG1ldGljJyksXG4gICAgbmV3IFhtbEJsb2NrKCdtYXRoX3NpbmdsZScpLFxuICAgIG5ldyBYbWxCbG9jaygnbWF0aF90cmlnJyksXG4gICAgbmV3IFhtbEJsb2NrKCdtYXRoX2NvbnN0YW50JyksXG4gICAgbmV3IFhtbEJsb2NrKCdtYXRoX251bWJlcl9wcm9wZXJ0eScpLFxuICAgIG5ldyBYbWxCbG9jaygnbWF0aF9yb3VuZCcpLFxuICAgIG5ldyBYbWxCbG9jaygnbWF0aF9vbl9saXN0JyksXG4gICAgbmV3IFhtbEJsb2NrKCdtYXRoX21vZHVsbycpLFxuICAgIG5ldyBYbWxCbG9jaygnbWF0aF9jb25zdHJhaW4nKSxcbiAgICBuZXcgWG1sQmxvY2soJ21hdGhfcmFuZG9tX2ludCcpLFxuICAgIG5ldyBYbWxCbG9jaygnbWF0aF9yYW5kb21fZmxvYXQnKSxcbiAgICBuZXcgWG1sQmxvY2soJ21hdGhfYXRhbjInKVxuXSk7XG5cbmV4cG9ydCBjb25zdCBURVhUX0NBVEVHT1JZOiBDYXRlZ29yeSA9IG5ldyBDYXRlZ29yeSgnVGV4dCcsICcle0JLWV9URVhUU19IVUV9JywgW1xuICAgIG5ldyBYbWxCbG9jaygndGV4dCcpLFxuICAgIG5ldyBYbWxCbG9jaygndGV4dF9qb2luJyksXG4gICAgbmV3IFhtbEJsb2NrKCd0ZXh0X2FwcGVuZCcpLFxuICAgIG5ldyBYbWxCbG9jaygndGV4dF9sZW5ndGgnKSxcbiAgICBuZXcgWG1sQmxvY2soJ3RleHRfY291bnQnKSxcbiAgICBuZXcgWG1sQmxvY2soJ3RleHRfaXNFbXB0eScpLFxuICAgIG5ldyBYbWxCbG9jaygndGV4dF9pbmRleE9mJyksXG4gICAgbmV3IFhtbEJsb2NrKCd0ZXh0X2NoYXJBdCcpLFxuICAgIG5ldyBYbWxCbG9jaygndGV4dF9nZXRTdWJzdHJpbmcnKSxcbiAgICBuZXcgWG1sQmxvY2soJ3RleHRfY2hhbmdlQ2FzZScpLFxuICAgIG5ldyBYbWxCbG9jaygndGV4dF9tdWx0aWxpbmUnKSxcbiAgICBuZXcgWG1sQmxvY2soJ3RleHRfcmVwbGFjZScpLFxuICAgIG5ldyBYbWxCbG9jaygndGV4dF9yZXZlcnNlJyksXG4gICAgbmV3IFhtbEJsb2NrKCd0ZXh0X3RyaW0nKSxcbiAgICBuZXcgWG1sQmxvY2soJ3RleHRfcHJpbnQnKSxcbiAgICBuZXcgWG1sQmxvY2soJ3RleHRfcHJvbXB0JyksXG4gICAgbmV3IFhtbEJsb2NrKCd0ZXh0X3Byb21wdF9leHQnKVxuXSk7XG5cbmV4cG9ydCBjb25zdCBMSVNUU19DQVRFR09SWTogQ2F0ZWdvcnkgPSBuZXcgQ2F0ZWdvcnkoJ0xpc3RzJywgJyV7QktZX0xJU1RTX0hVRX0nLCBbXG4gICAgbmV3IFhtbEJsb2NrKCdsaXN0c19jcmVhdGVfd2l0aCcpLFxuICAgIG5ldyBYbWxCbG9jaygnbGlzdHNfY3JlYXRlX2VtcHR5JyksXG4gICAgbmV3IFhtbEJsb2NrKCdsaXN0c19yZXBlYXQnKSxcbiAgICBuZXcgWG1sQmxvY2soJ2xpc3RzX3JldmVyc2UnKSxcbiAgICBuZXcgWG1sQmxvY2soJ2xpc3RzX2xlbmd0aCcpLFxuICAgIG5ldyBYbWxCbG9jaygnbGlzdHNfaXNFbXB0eScpLFxuICAgIG5ldyBYbWxCbG9jaygnbGlzdHNfaW5kZXhPZicpLFxuICAgIG5ldyBYbWxCbG9jaygnbGlzdHNfZ2V0SW5kZXgnKSxcbiAgICBuZXcgWG1sQmxvY2soJ2xpc3RzX3NldEluZGV4JyksXG4gICAgbmV3IFhtbEJsb2NrKCdsaXN0c19nZXRTdWJsaXN0JyksXG4gICAgbmV3IFhtbEJsb2NrKCdsaXN0c19zcGxpdCcpLFxuICAgIG5ldyBYbWxCbG9jaygnbGlzdHNfc29ydCcpLFxuXSk7XG5cbmV4cG9ydCBjb25zdCBDT0xPVVJfQ0FURUdPUlk6IENhdGVnb3J5ID0gbmV3IENhdGVnb3J5KCdDb2xvdXJzJywgJyV7QktZX0NPTE9VUl9IVUV9JywgW1xuICAgIG5ldyBYbWxCbG9jaygnY29sb3VyX3BpY2tlcicpLFxuICAgIG5ldyBYbWxCbG9jaygnY29sb3VyX3JhbmRvbScpLFxuICAgIG5ldyBYbWxCbG9jaygnY29sb3VyX3JnYicpLFxuICAgIG5ldyBYbWxCbG9jaygnY29sb3VyX2JsZW5kJylcbl0pO1xuXG5leHBvcnQgY29uc3QgVkFSSUFCTEVTX0NBVEVHT1JZOiBDYXRlZ29yeSA9IG5ldyBDYXRlZ29yeSgnVmFyaWFibGVzJywgJyV7QktZX1ZBUklBQkxFU19IVUV9JywgW10sICdWQVJJQUJMRScpO1xuXG5leHBvcnQgY29uc3QgRlVOQ1RJT05TX0NBVEVHT1JZOiBDYXRlZ29yeSA9IG5ldyBDYXRlZ29yeSgnRnVuY3Rpb25zJywgJyV7QktZX1BST0NFRFVSRVNfSFVFfScsIFtdLCAnUFJPQ0VEVVJFJyk7XG4iXX0=